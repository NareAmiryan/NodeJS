<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>BackEnd Development</title>
    <link rel="stylesheet" type="text/css" href="jss.css" />
</head>
<body>
<form>
    <h2>GET</h2>
    <br>
<input type="text" id="GET" name="GET" style="height: 40px;width:200px">
<button id="get1" onclick="getUser()">GET</button>
</form>
<br><br>
<form>
    <h2>POST</h2>
    <p>Name</p>
    <input type="text" placeholder="Enter name" id="name1"  style="height: 40px;width:120px">
    <br>
    <p>FirstName</p>
    <input type="text" placeholder="Enter firstname" id="firstname1"  style="height: 40px;width:120px">
    <br>
    <p>LastName</p>
    <input type="text" id="lastname1" placeholder="Enter lastname" style="height: 40px;width:120px">
    <button id="post1" onclick="addUser()">POST</button>
</form>
<br><br>
<form>
    <h2>PUT</h2>
    <p>Name</p>
    <input type="text" id="name2" placeholder="Enter name" style="height: 40px;width:120px">
    <br>
    <p>FirstName</p>
    <input type="text" id="firstname2" placeholder="Enter firstname" style="height: 40px;width:120px">
    <br>
    <p>LastName</p>
    <input type="text" id="lastname2" placeholder="Enter lastname"  style="height: 40px;width:120px">
    <button id="put1" onclick="putUser()">PUT</button>
</form>

<form>
    <h2>PATCH</h2>
    <p>Name</p>
    <input type="text" id="name3" placeholder="Enter name" style="height: 40px;width:120px">
    <br>
    <p>FirstName</p>
    <input type="text" id="firstname3" placeholder="Enter firstname" style="height: 40px;width:120px">
    <br>
    <p>LastName</p>
    <input type="text" id="lastname3" placeholder="Enter lastname" style="height: 40px;width:120px">
    <button id="patch1" onclick="patchUser()">PATCH</button>
</form>

<script>

    const getUser = async ()=> {
        const nameValue = document.getElementById('GET').value;
         await fetch(`http://localhost:3000/users/${nameValue}`,{
                    method:'GET'
                }).then(data=> data.json());
    }

    const addUser= async()=> {
         const name = document.getElementById('name1').value;
         const firstName = document.getElementById('firstname1').value;
         const lastName = document.getElementById('lastname1').value;
         const res= await fetch('http://localhost:3000/users/',{
                     method:'POST',
                     headers: {
                        'Content-Type': 'application/json'
                     },
                        mode: 'cors',
                        cache: 'default',
                        body: JSON.stringify({
                            name:name,
                            firstName:firstName,
                            lastName:lastName
                        })
        })
          const data=await res.json();
          return data;
    }

    const putUser = async () => {
        const name=document.getElementById('name2').value;
        const firstName=document.getElementById('firstname2').value;
        const lastName=document.getElementById('lastname2').value;
        const res=await fetch(`http://localhost:3000/users/`,{
            method:'PUT',
            headers: {
                'Content-Type': 'application/json'
            },
            mode: 'cors',
            cache: 'default',
            body: JSON.stringify({
                name:name,
                firstName:firstName,
                lastName:lastName
            })
        })
        const data=await res.json();
        return data;
    }

    const patchUser=async()=>{
        const name=document.getElementById('name3').value;
        const firstName=document.getElementById('firstname3').value;
        const lastName=document.getElementById('lastname3').value;
        const res=await fetch(`http://localhost:3000/users/`,{
            method:'PATCH',
            headers: {
                'Content-Type': 'application/json'
            },
            mode: 'cors',
            cache: 'default',
            body: JSON.stringify({
                name:name,
                firstName:firstName,
                lastName:lastName
            })
        })
        const data=await res.json();
        return data;
    }
</script>
</body>
</html>
